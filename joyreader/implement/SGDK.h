#pragma once

#define JOYREADER_ACTIVE(J)          ( J.active )
#define JOYREADER_ACTIVE_U(J)      ( ( JOYREADER_ACTIVE(J)   >>  0 ) & 1 )
#define JOYREADER_ACTIVE_D(J)      ( ( JOYREADER_ACTIVE(J)   >>  1 ) & 1 )
#define JOYREADER_ACTIVE_L(J)      ( ( JOYREADER_ACTIVE(J)   >>  2 ) & 1 )
#define JOYREADER_ACTIVE_R(J)      ( ( JOYREADER_ACTIVE(J)   >>  3 ) & 1 )
#define JOYREADER_ACTIVE_A(J)      ( ( JOYREADER_ACTIVE(J)   >>  6 ) & 1 )
#define JOYREADER_ACTIVE_B(J)      ( ( JOYREADER_ACTIVE(J)   >>  4 ) & 1 )
#define JOYREADER_ACTIVE_C(J)      ( ( JOYREADER_ACTIVE(J)   >>  5 ) & 1 )
#define JOYREADER_ACTIVE_X(J)      ( ( JOYREADER_ACTIVE(J)   >> 10 ) & 1 )
#define JOYREADER_ACTIVE_Y(J)      ( ( JOYREADER_ACTIVE(J)   >>  9 ) & 1 )
#define JOYREADER_ACTIVE_Z(J)      ( ( JOYREADER_ACTIVE(J)   >>  8 ) & 1 )
#define JOYREADER_ACTIVE_S(J)      ( ( JOYREADER_ACTIVE(J)   >>  7 ) & 1 )
#define JOYREADER_ACTIVE_M(J)      ( ( JOYREADER_ACTIVE(J)   >> 11 ) & 1 )
#define JOYREADER_ACTIVE_V(J)        ( JOYREADER_ACTIVE_U(J)     | JOYREADER_ACTIVE_D(J) )
#define JOYREADER_ACTIVE_H(J)        ( JOYREADER_ACTIVE_L(J)     | JOYREADER_ACTIVE_R(J) )
#define JOYREADER_ACTIVE_DIR(J)      ( JOYREADER_ACTIVE_V(J)     | JOYREADER_ACTIVE_H(J) )
#define JOYREADER_ACTIVE_ABC(J)      ( JOYREADER_ACTIVE_A(J)     | JOYREADER_ACTIVE_B(J)   | JOYREADER_ACTIVE_C(J)   )
#define JOYREADER_ACTIVE_ABCS(J)     ( JOYREADER_ACTIVE_ABC(J)   | JOYREADER_ACTIVE_S(J) )
#define JOYREADER_ACTIVE_XYZ(J)      ( JOYREADER_ACTIVE_X(J)     | JOYREADER_ACTIVE_Y(J)   | JOYREADER_ACTIVE_Z(J)   )
#define JOYREADER_ACTIVE_BTN(J)      ( JOYREADER_ACTIVE_ABC(J)   | JOYREADER_ACTIVE_XYZ(J) )

#define JOYREADER_CHANGED(J)         ( J.changed )
#define JOYREADER_CHANGED_U(J)     ( ( JOYREADER_CHANGED(J)  >>  0 ) & 1 )
#define JOYREADER_CHANGED_D(J)     ( ( JOYREADER_CHANGED(J)  >>  1 ) & 1 )
#define JOYREADER_CHANGED_L(J)     ( ( JOYREADER_CHANGED(J)  >>  2 ) & 1 )
#define JOYREADER_CHANGED_R(J)     ( ( JOYREADER_CHANGED(J)  >>  3 ) & 1 )
#define JOYREADER_CHANGED_A(J)     ( ( JOYREADER_CHANGED(J)  >>  6 ) & 1 )
#define JOYREADER_CHANGED_B(J)     ( ( JOYREADER_CHANGED(J)  >>  4 ) & 1 )
#define JOYREADER_CHANGED_C(J)     ( ( JOYREADER_CHANGED(J)  >>  5 ) & 1 )
#define JOYREADER_CHANGED_X(J)     ( ( JOYREADER_CHANGED(J)  >> 10 ) & 1 )
#define JOYREADER_CHANGED_Y(J)     ( ( JOYREADER_CHANGED(J)  >>  9 ) & 1 )
#define JOYREADER_CHANGED_Z(J)     ( ( JOYREADER_CHANGED(J)  >>  8 ) & 1 )
#define JOYREADER_CHANGED_S(J)     ( ( JOYREADER_CHANGED(J)  >>  7 ) & 1 )
#define JOYREADER_CHANGED_M(J)     ( ( JOYREADER_CHANGED(J)  >> 11 ) & 1 )
#define JOYREADER_CHANGED_V(J)       ( JOYREADER_CHANGED_U(J)    | JOYREADER_CHANGED_D(J) )
#define JOYREADER_CHANGED_H(J)       ( JOYREADER_CHANGED_L(J)    | JOYREADER_CHANGED_R(J) )
#define JOYREADER_CHANGED_DIR(J)     ( JOYREADER_CHANGED_V(J)    | JOYREADER_CHANGED_H(J) )
#define JOYREADER_CHANGED_ABC(J)     ( JOYREADER_CHANGED_A(J)    | JOYREADER_CHANGED_B(J)  | JOYREADER_CHANGED_C(J)  )
#define JOYREADER_CHANGED_ABCS(J)    ( JOYREADER_CHANGED_ABC(J)  | JOYREADER_CHANGED_S(J) )
#define JOYREADER_CHANGED_XYZ(J)     ( JOYREADER_CHANGED_X(J)    | JOYREADER_CHANGED_Y(J)  | JOYREADER_CHANGED_Z(J)  )
#define JOYREADER_CHANGED_BTN(J)     ( JOYREADER_CHANGED_ABC(J)  | JOYREADER_CHANGED_XYZ(J) )

#define JOYREADER_INACTIVE(J)        ( ~JOYREADER_ACTIVE(J) )
#define JOYREADER_INACTIVE_U(J)    ( ( JOYREADER_INACTIVE(J) >>  0 ) & 1 )
#define JOYREADER_INACTIVE_D(J)    ( ( JOYREADER_INACTIVE(J) >>  1 ) & 1 )
#define JOYREADER_INACTIVE_L(J)    ( ( JOYREADER_INACTIVE(J) >>  2 ) & 1 )
#define JOYREADER_INACTIVE_R(J)    ( ( JOYREADER_INACTIVE(J) >>  3 ) & 1 )
#define JOYREADER_INACTIVE_A(J)    ( ( JOYREADER_INACTIVE(J) >>  6 ) & 1 )
#define JOYREADER_INACTIVE_B(J)    ( ( JOYREADER_INACTIVE(J) >>  4 ) & 1 )
#define JOYREADER_INACTIVE_C(J)    ( ( JOYREADER_INACTIVE(J) >>  5 ) & 1 )
#define JOYREADER_INACTIVE_X(J)    ( ( JOYREADER_INACTIVE(J) >> 10 ) & 1 )
#define JOYREADER_INACTIVE_Y(J)    ( ( JOYREADER_INACTIVE(J) >>  9 ) & 1 )
#define JOYREADER_INACTIVE_Z(J)    ( ( JOYREADER_INACTIVE(J) >>  8 ) & 1 )
#define JOYREADER_INACTIVE_S(J)    ( ( JOYREADER_INACTIVE(J) >>  7 ) & 1 )
#define JOYREADER_INACTIVE_M(J)    ( ( JOYREADER_INACTIVE(J) >> 11 ) & 1 )
#define JOYREADER_INACTIVE_V(J)      ( JOYREADER_INACTIVE_U(J)   | JOYREADER_INACTIVE_D(J) )
#define JOYREADER_INACTIVE_H(J)      ( JOYREADER_INACTIVE_L(J)   | JOYREADER_INACTIVE_R(J) )
#define JOYREADER_INACTIVE_DIR(J)    ( JOYREADER_INACTIVE_V(J)   | JOYREADER_INACTIVE_H(J) )
#define JOYREADER_INACTIVE_ABC(J)    ( JOYREADER_INACTIVE_A(J)   | JOYREADER_INACTIVE_B(J) | JOYREADER_INACTIVE_C(J) )
#define JOYREADER_INACTIVE_ABCS(J)   ( JOYREADER_INACTIVE_ABC(J) | JOYREADER_INACTIVE_S(J) )
#define JOYREADER_INACTIVE_XYZ(J)    ( JOYREADER_INACTIVE_X(J)   | JOYREADER_INACTIVE_Y(J) | JOYREADER_INACTIVE_Z(J) )
#define JOYREADER_INACTIVE_BTN(J)    ( JOYREADER_INACTIVE_ABC(J) | JOYREADER_INACTIVE_XYZ(J) )

#define JOYREADER_PRESSED(J)         ( JOYREADER_ACTIVE(J)  & JOYREADER_CHANGED(J) )
#define JOYREADER_PRESSED_U(J)     ( ( JOYREADER_PRESSED(J)  >>  0 ) & 1 )
#define JOYREADER_PRESSED_D(J)     ( ( JOYREADER_PRESSED(J)  >>  1 ) & 1 )
#define JOYREADER_PRESSED_L(J)     ( ( JOYREADER_PRESSED(J)  >>  2 ) & 1 )
#define JOYREADER_PRESSED_R(J)     ( ( JOYREADER_PRESSED(J)  >>  3 ) & 1 )
#define JOYREADER_PRESSED_A(J)     ( ( JOYREADER_PRESSED(J)  >>  6 ) & 1 )
#define JOYREADER_PRESSED_B(J)     ( ( JOYREADER_PRESSED(J)  >>  4 ) & 1 )
#define JOYREADER_PRESSED_C(J)     ( ( JOYREADER_PRESSED(J)  >>  5 ) & 1 )
#define JOYREADER_PRESSED_X(J)     ( ( JOYREADER_PRESSED(J)  >> 10 ) & 1 )
#define JOYREADER_PRESSED_Y(J)     ( ( JOYREADER_PRESSED(J)  >>  9 ) & 1 )
#define JOYREADER_PRESSED_Z(J)     ( ( JOYREADER_PRESSED(J)  >>  8 ) & 1 )
#define JOYREADER_PRESSED_S(J)     ( ( JOYREADER_PRESSED(J)  >>  7 ) & 1 )
#define JOYREADER_PRESSED_M(J)     ( ( JOYREADER_PRESSED(J)  >> 11 ) & 1 )
#define JOYREADER_PRESSED_V(J)       ( JOYREADER_PRESSED_U(J)    | JOYREADER_PRESSED_D(J) )
#define JOYREADER_PRESSED_H(J)       ( JOYREADER_PRESSED_L(J)    | JOYREADER_PRESSED_R(J) )
#define JOYREADER_PRESSED_DIR(J)     ( JOYREADER_PRESSED_V(J)    | JOYREADER_PRESSED_H(J) )
#define JOYREADER_PRESSED_ABC(J)     ( JOYREADER_PRESSED_A(J)    | JOYREADER_PRESSED_B(J)  | JOYREADER_PRESSED_C(J)  )
#define JOYREADER_PRESSED_ABCS(J)    ( JOYREADER_PRESSED_ABC(J)  | JOYREADER_PRESSED_S(J) )
#define JOYREADER_PRESSED_XYZ(J)     ( JOYREADER_PRESSED_X(J)    | JOYREADER_PRESSED_Y(J)  | JOYREADER_PRESSED_Z(J)  )
#define JOYREADER_PRESSED_BTN(J)     ( JOYREADER_PRESSED_ABC(J)  | JOYREADER_PRESSED_XYZ(J) )

#define JOYREADER_RELEASED(J)        ( ~JOYREADER_ACTIVE(J) & JOYREADER_CHANGED(J) )
#define JOYREADER_RELEASED_U(J)    ( ( JOYREADER_RELEASED(J) >>  0 ) & 1 )
#define JOYREADER_RELEASED_D(J)    ( ( JOYREADER_RELEASED(J) >>  1 ) & 1 )
#define JOYREADER_RELEASED_L(J)    ( ( JOYREADER_RELEASED(J) >>  2 ) & 1 )
#define JOYREADER_RELEASED_R(J)    ( ( JOYREADER_RELEASED(J) >>  3 ) & 1 )
#define JOYREADER_RELEASED_A(J)    ( ( JOYREADER_RELEASED(J) >>  6 ) & 1 )
#define JOYREADER_RELEASED_B(J)    ( ( JOYREADER_RELEASED(J) >>  4 ) & 1 )
#define JOYREADER_RELEASED_C(J)    ( ( JOYREADER_RELEASED(J) >>  5 ) & 1 )
#define JOYREADER_RELEASED_X(J)    ( ( JOYREADER_RELEASED(J) >> 10 ) & 1 )
#define JOYREADER_RELEASED_Y(J)    ( ( JOYREADER_RELEASED(J) >>  9 ) & 1 )
#define JOYREADER_RELEASED_Z(J)    ( ( JOYREADER_RELEASED(J) >>  8 ) & 1 )
#define JOYREADER_RELEASED_S(J)    ( ( JOYREADER_RELEASED(J) >>  7 ) & 1 )
#define JOYREADER_RELEASED_M(J)    ( ( JOYREADER_RELEASED(J) >> 11 ) & 1 )
#define JOYREADER_RELEASED_V(J)      ( JOYREADER_RELEASED_U(J)   | JOYREADER_RELEASED_D(J) )
#define JOYREADER_RELEASED_H(J)      ( JOYREADER_RELEASED_L(J)   | JOYREADER_RELEASED_R(J) )
#define JOYREADER_RELEASED_DIR(J)    ( JOYREADER_RELEASED_V(J)   | JOYREADER_RELEASED_H(J) )
#define JOYREADER_RELEASED_ABC(J)    ( JOYREADER_RELEASED_A(J)   | JOYREADER_RELEASED_B(J) | JOYREADER_RELEASED_C(J) )
#define JOYREADER_RELEASED_ABCS(J)   ( JOYREADER_RELEASED_ABC(J) | JOYREADER_RELEASED_S(J) )
#define JOYREADER_RELEASED_XYZ(J)    ( JOYREADER_RELEASED_X(J)   | JOYREADER_RELEASED_Y(J) | JOYREADER_RELEASED_Z(J) )
#define JOYREADER_RELEASED_BTN(J)    ( JOYREADER_RELEASED_ABC(J) | JOYREADER_RELEASED_XYZ(J) )
